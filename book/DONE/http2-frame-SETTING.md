TODO  1
设置帧(type=0x4)包含影响如何与终端通信的设置参数(例如偏好设置以及对等端的行为约束).

设置参数不是通过协商确定的；它们描述发送端的特点，并被接收端使用。相同的参数对不同的对等端设置可能不同。例如，一个客户端可能设置一个较高的流量控制窗口，而服务器为了保存资源可能设置一个较低的值。

设置帧必须由两个终端在连接开始的时候发送，并且可以由各个终端在连接生存期的任意时间发送。具体实现必须支持本规范定义的所有参数。

设置帧的所有参数将替换参数中现有值。参数由他们出现的顺序来处理，而且接收设置帧并不需要保存当前值以外的任何状态。因此，设置参数的值是接收端接收到的最后一个值。

### 设置帧格式

设置帧载体包含0个或多个参数，每个参数包含一个无符号的16位标识以及一个无符号的32位值。

```
  	+-------------------------------+
    |       Identifier (16)         |
    +-------------------------------+-------------------------------+
    |                        Value (32)                             |
    +---------------------------------------------------------------+
```

###标记：

	
 **ACK (0x1)** ： 

### 错误处理

位1表示设置帧已被接收端接收并应用。如果这个位设置了，设置帧的载体必须为空。否则响应帧大小错误

设置帧总是应用于连接，而不是一个单独的流。流的设置帧标识必须为0.否则，必须响应一个类型为协议错误

设置帧影响连接状态。设置帧的格式错误或者不完整的，响应为为协议错误。


### 参数

 **SETTINGS_HEADER_TABLE_SIZE (1)** : Header Table 是被用于Header Compression的一个数据结构，在发送端和接收端都需要维护。发送端以此通知远端，header table的最大承载量。初始值是4,096个字节。参考http2-head compression 部分
 - **SETTINGS_ENABLE_PUSH (2)** : 1为许可，0为禁止。初始值为1。终端在接收到此参数为0的情况下绝对不能发送服务器推送承诺帧。否则视为协议错误。

 - **SETTINGS_MAX_CONCURRENT_STREAMS (3)** : 发送者允许对等端可以发起的最大并发流。初始化时这个值没有限制。建议值不要大于100,以免不必要的限制并行。
0值阻止了新的流的创建，另外，如果被激活的流数量被耗尽时也适用。
 - **SETTINGS_INITIAL_WINDOW_SIZE (4)** : 表示发送端对流量控制窗口初始大小(字节单位)。初始值是65,535。
这个参数影响了所有流的窗口大小，包括现有的流。流量控制窗口大小值大于2的31次方-1的必须被作为流量控制错误处理。

终端收到不支持参数的设置帧，必须响应协议错误。

###设置同步

Most values in SETTINGS benefit from or require an understanding of when the peer has received and applied the changed the communicated parameter values. In order to provide such synchronization timepoints, the recipient of a SETTINGS frame in which the ACK flag is not set MUST apply the updated parameters as soon as possible upon receipt.

大部分设置值收益于或者需要了解对等端接收到并且改变了通信过的参数的值的时机。为了提供这样一种同步的时间点，接收到没有设置ACK标记的设置帧必须尽快将更新过的参数适用于接收端上。

设置帧的值必须按照它们出现的顺序被使用，在处理值中间不能处理其他帧。一旦所有的值被应用，接收端必须马上发送一个带有ACK标记的设置帧。在接收到带有ACK标记的设置帧后，修改参数的发送端可以认为修改已生效。

如果设置参数的发送端没有在一定时间内收到确认响应，它可以发出一个类型为设置超时错误